<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="contact_styles.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Contact Us</title>
</head>
<body>
<!--     navigation bar -->
     <header>

           <div class="bar w-full h-[60px] flex justify-around justify-center items-center">
                <div class="select-none logo flex items-center justify-center ">
                    <img src="./images/apple logo.png" width="70px" height="70px" alt="">
                    <p class="text-[25px] -ml-[20px]  font-bold">Apple</p>
                </div>
               
                   <div >
                       <ul class="list flex gap-11">
                        <a href="#product">Product </a>
                        <a href="#watches">Watches </a>
                        <a href="#feature">Features</a>
                        <a href="index.html">Home</a>
                        <!-- <a>About</a> -->
                   </div>

            </div>
        </header>
<!--     navigation bar -->
    <div class="newsletter-holder">
        
        <div class="newsletter w-full flex flex-wrap justify-around items-center">
    
         <div class="greeting w-[45%]">
             <h1 class="text-[35px]">Contact Us</h1>
             <p class="text-[50px]"><b>Have questions?<br>Shoot us an email.</b></p>
             <br>
             <p class="text-[18px]"><b>Have a question for us or feedback? Please click 
                 on the most appropriate category and fill out the form to reach us.</b></p>
         </div>
             
         <div class="details w-[45%]">
             <form id="contact" action="" onsubmit="event.preventDefault();validateForm()">
                 <fieldset>
                     <input id="name" placeholder="Your name" type="text" tabindex="1" required autofocus>
                   </fieldset>
    
                   <fieldset>
                     <input id="email" placeholder="Your Email Address" type="email" tabindex="2" required>
                   </fieldset>
    
                   <fieldset>
                     <input id="number" placeholder="Your Phone Number" type="tel" tabindex="3" required>
                   </fieldset>
                   
                   <fieldset>
                     <textarea id="query" placeholder="Type your Message Here...." tabindex="5" required></textarea>
                   </fieldset>
    
                   <fieldset>
    
                     <button name="submit" type="submit" id="contact-submit" data-submit="...Sending" >Submit</button>
                   </fieldset>
             </form>                                        
         </div>
         </div>
    
     </div>

     <script>
        async function validateForm() {
        var name = document.getElementById("name").value;
        var email = document.getElementById("email").value;
        var query_message = document.getElementById("query").value;
        var contact_number = document.getElementById("number").value;

        alert(
          "Information received: " +
            "\nName: " +
            name +
            "\nEmail: " +
            email +
            "\nQuery Message: " +
            query_message +
            "\nContact Number: " +
            contact_number
        );

        const data = { name, email, query_message, contact_number };

        try {
          const response = await fetch("http://localhost:5500/api/contact-us", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify(data),
          });

          const responseData = await response.json();
          if (responseData) {
            alert("Response received at backend");
            console.log("Response Data: ",responseData);
          }
          console.log(responseData);
        } catch (error) {
          console.log(error);
        }
        document.getElementById("name").value = "";
        document.getElementById("email").value = "";
        document.getElementById("query").value = "";
        document.getElementById("number").value = "";
        return true;
      }
     </script>
</body>
</html>
